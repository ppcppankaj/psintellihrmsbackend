# =============================================================================
# PS IntelliHR â€” Environment Configuration
# Copy to `.env` and configure for your environment.
# =============================================================================

# ---- General ----------------------------------------------------------------
ENVIRONMENT=development
DEBUG=True
SECRET_KEY=your-super-secret-key-change-in-production
DJANGO_SETTINGS_MODULE=config.settings.development
LOG_TARGET=console

# ---- Domain / Hosts ---------------------------------------------------------
BASE_DOMAIN=localhost
ALLOWED_HOSTS=localhost,127.0.0.1,.example.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_COOKIE_DOMAIN=
SESSION_COOKIE_DOMAIN=

# ---- PostgreSQL -------------------------------------------------------------
POSTGRES_DB=ps_intellihr
POSTGRES_USER=hrms_admin
POSTGRES_PASSWORD=your-secure-password
DB_HOST=localhost
DB_PORT=5432
# For Docker: DATABASE_URL=postgresql://hrms_admin:your-secure-password@postgres:5432/ps_intellihr
# For SQLite: DATABASE_URL=sqlite:///db.sqlite3
DATABASE_URL=sqlite:///db.sqlite3

# ---- Redis ------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_URL=redis://localhost:6379/1
CHANNEL_LAYER_URL=redis://localhost:6379/2
# Set to True for local dev without Redis
CHANNEL_LAYER_IN_MEMORY=False

# ---- Celery -----------------------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ---- Security / Encryption --------------------------------------------------
FIELD_ENCRYPTION_KEY=JKLjPxZvMnBqWrStUvWxYzAbCdEfGhIjKlMnOpQrStUv=
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=60
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
JWT_SIGNING_KEY=your-jwt-signing-key

# ---- HTTPS (production only) ------------------------------------------------
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# ---- Email / SMTP -----------------------------------------------------------
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=noreply@example.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=PS IntelliHR <noreply@example.com>

# ---- Razorpay ---------------------------------------------------------------
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your-razorpay-secret
RAZORPAY_CURRENCY=INR

# ---- Billing Company --------------------------------------------------------
BILLING_COMPANY_NAME=PS IntelliHR
BILLING_COMPANY_ADDRESS=
BILLING_COMPANY_GSTIN=
BILLING_COMPANY_LOGO_URL=
BILLING_PORTAL_BASE_URL=http://localhost:3000

# ---- AI / OpenAI ------------------------------------------------------------
OPENAI_API_KEY=
GOOGLE_AI_API_KEY=
AI_RESUME_PARSING_ENABLED=True
AI_ATTRITION_PREDICTION_ENABLED=True
AI_CHATBOT_ENABLED=True

# ---- Integrations -----------------------------------------------------------
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
TEAMS_APP_ID=
TEAMS_APP_SECRET=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ---- AWS S3 (optional file storage) -----------------------------------------
USE_S3=False
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=ap-south-1

# ---- Monitoring --------------------------------------------------------------
SENTRY_DSN=
PROMETHEUS_METRICS_ENABLED=False

# ---- Superadmin (auto-created on first deploy) ------------------------------
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=change-me-admin-password
DJANGO_SUPERUSER_USERNAME=admin

# ---- Frontend ---------------------------------------------------------------
VITE_API_BASE_URL=http://localhost:8000/api/v1

# ---- API Docs ---------------------------------------------------------------
ENABLE_API_DOCS=True

# ---- Throttling (optional overrides) ----------------------------------------
DEV_DISABLE_THROTTLING=False
THROTTLE_ANON_RATE=120/hour
THROTTLE_USER_RATE=3000/hour
THROTTLE_BURST_RATE=180/minute
THROTTLE_SUSTAINED_RATE=50000/day
THROTTLE_ORGANIZATION_RATE=200000/hour
THROTTLE_ORG_USER_RATE=30000/hour
THROTTLE_LOGIN_RATE=10/minute
THROTTLE_PASSWORD_RESET_RATE=8/hour
THROTTLE_TWO_FACTOR_RATE=30/hour
THROTTLE_ATTENDANCE_PUNCH_RATE=60/minute
THROTTLE_REPORT_EXPORT_RATE=30/hour
THROTTLE_API_KEY_RATE=10000/hour

# ---- Feature Flags ----------------------------------------------------------
FEATURE_PAYROLL_ENABLED=True
FEATURE_RECRUITMENT_ENABLED=True
FEATURE_PERFORMANCE_ENABLED=True
FEATURE_AI_SERVICES_ENABLED=True
